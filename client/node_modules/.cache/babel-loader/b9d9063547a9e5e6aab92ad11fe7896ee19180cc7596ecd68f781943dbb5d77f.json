{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/LAURA/Desktop/proiectlicenta/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/LAURA/Desktop/proiectlicenta/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/LAURA/Desktop/proiectlicenta/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{isEmail}from\"validator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Mail(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputEmail=_useState2[0],setInputEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),emailError=_useState4[0],setEmailError=_useState4[1];var handleInputEmailChange=function handleInputEmailChange(event){var email=event.target.value;setInputEmail(email);if(isEmail(email)){setEmailError('');}else{setEmailError(\"Invalid email address.\");}};var validateEmailForm=function validateEmailForm(){if(!isEmail(inputEmail)){setEmailError(\"Invalid email address.\");return false;}return true;};var handleEmailSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!validateEmailForm()){_context.next=11;break;}_context.prev=2;_context.next=5;return fetch('/reset-password',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:inputEmail})});case 5:response=_context.sent;if(response.ok){}else{}_context.next=11;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);case 11:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function handleEmailSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login-singup\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEmailSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Reset Password\"}),emailError&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:emailError}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:inputEmail,onChange:handleInputEmailChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send Reset Link\"})]})});}export default Mail;","map":{"version":3,"names":["React","useState","isEmail","jsx","_jsx","jsxs","_jsxs","Mail","_useState","_useState2","_slicedToArray","inputEmail","setInputEmail","_useState3","_useState4","emailError","setEmailError","handleInputEmailChange","event","email","target","value","validateEmailForm","handleEmailSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","ok","t0","stop","_x","apply","arguments","className","children","onSubmit","type","name","placeholder","onChange"],"sources":["C:/Users/LAURA/Desktop/proiectlicenta/client/src/comp/User/Mail.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { isEmail } from \"validator\";\r\n\r\nfunction Mail() {\r\n    const [inputEmail, setInputEmail] = useState('');\r\n    const [emailError, setEmailError] = useState('');\r\n\r\n    const handleInputEmailChange = (event) => {\r\n        const email = event.target.value;\r\n        setInputEmail(email);\r\n    \r\n        if (isEmail(email)) {\r\n          setEmailError('');\r\n        } else {\r\n          setEmailError(\"Invalid email address.\");\r\n        }\r\n      };\r\n\r\n    const validateEmailForm = () => {\r\n        if (!isEmail(inputEmail)) {\r\n          setEmailError(\"Invalid email address.\");\r\n          return false;\r\n        }    \r\n        return true;\r\n    };\r\n\r\n    const handleEmailSubmit = async (event) => {\r\n        event.preventDefault();\r\n      \r\n        if (validateEmailForm()) {\r\n          try {\r\n            const response = await fetch('/reset-password', {\r\n              method: 'POST',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n              },\r\n              body: JSON.stringify({ email: inputEmail }),\r\n            });\r\n      \r\n            if (response.ok) {\r\n            } else {\r\n            }\r\n          } catch (error) {\r\n          }\r\n        }\r\n      };\r\n\r\n      return (\r\n        <div className=\"login-singup\">\r\n          <form onSubmit={handleEmailSubmit}>\r\n            <h1>Reset Password</h1>\r\n            {emailError && <span className=\"error\">{emailError}</span>}\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              value={inputEmail}\r\n              onChange={handleInputEmailChange}\r\n            />\r\n            <button type=\"submit\">Send Reset Link</button>\r\n          </form>\r\n        </div>\r\n      )\r\n}\r\n\r\nexport default Mail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}