{"ast":null,"code":"import _slicedToArray from\"C:/Users/didi_/Desktop/proiectlicenta/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{isEmail}from\"validator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Signup(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputUsername=_useState2[0],setInputUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputEmail=_useState4[0],setInputEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),inputPassword=_useState6[0],setInputPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),inputConfirmPassword=_useState8[0],setInputConfirmPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),usernameError=_useState10[0],setUsernameError=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),emailError=_useState12[0],setEmailError=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),passwordError=_useState14[0],setPasswordError=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),confirmPasswordError=_useState16[0],setConfirmPasswordError=_useState16[1];var handleInputUsernameChange=function handleInputUsernameChange(event){var filteredUsername=sanitizeInputUsername(event.target.value);setInputUsername(filteredUsername);};var sanitizeInputUsername=function sanitizeInputUsername(input){var filteredInputUsername=input.replace(/[^a-zA-Z0-9\\s]/g,'');return filteredInputUsername;};var handleInputEmailChange=function handleInputEmailChange(event){var email=event.target.value;setInputEmail(email);if(isEmail(email)){setEmailError('');}else{setEmailError(\"Invalid email address.\");}};var handleInputPasswordChange=function handleInputPasswordChange(event){var password=event.target.value;setInputPassword(password);};var handleInputConfirmPasswordChange=function handleInputConfirmPasswordChange(event){var confirmPassword=event.target.value;setInputConfirmPassword(confirmPassword);};var validateForm=function validateForm(){var isValid=true;if(inputUsername.length<6){setUsernameError(\"Username must be at least 6 characters long.\");isValid=false;}else{setUsernameError(\"\");}if(!isEmail(inputEmail)){setEmailError(\"Invalid email address.\");isValid=false;}else{setEmailError(\"\");}if(inputPassword.length<6){setPasswordError(\"Password must be at least 6 characters long.\");isValid=false;}else if(!/\\d/.test(inputPassword)){setPasswordError(\"Password must contain at least one number.\");isValid=false;}else if(!/[A-Z]/.test(inputPassword)){setPasswordError(\"Password must contain at least one uppercase letter.\");isValid=false;}else{setPasswordError(\"\");}if(inputPassword!==inputConfirmPassword){setConfirmPasswordError(\"Passwords do not match.\");isValid=false;}else{setConfirmPasswordError(\"\");}return isValid;};var handleSubmit=function handleSubmit(event){event.preventDefault();if(validateForm()){var formData={username:inputUsername,email:inputEmail,password:inputPassword,confirmPassword:inputConfirmPassword};fetch('/signup',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)}).then(function(response){if(response.ok){window.location.href='/login';}else{}}).catch(function(error){console.error(error);});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"login-singup\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"}),usernameError&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:usernameError}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",value:inputUsername,onChange:handleInputUsernameChange}),emailError&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:emailError}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:inputEmail,onChange:handleInputEmailChange}),passwordError&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:passwordError}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:inputPassword,onChange:handleInputPasswordChange}),confirmPasswordError&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:confirmPasswordError}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",placeholder:\"Confirm Password\",value:inputConfirmPassword,onChange:handleInputConfirmPasswordChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login here.\"})]})]})})});}export default Signup;","map":{"version":3,"names":["React","useState","isEmail","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","_useState","_useState2","_slicedToArray","inputUsername","setInputUsername","_useState3","_useState4","inputEmail","setInputEmail","_useState5","_useState6","inputPassword","setInputPassword","_useState7","_useState8","inputConfirmPassword","setInputConfirmPassword","_useState9","_useState10","usernameError","setUsernameError","_useState11","_useState12","emailError","setEmailError","_useState13","_useState14","passwordError","setPasswordError","_useState15","_useState16","confirmPasswordError","setConfirmPasswordError","handleInputUsernameChange","event","filteredUsername","sanitizeInputUsername","target","value","input","filteredInputUsername","replace","handleInputEmailChange","email","handleInputPasswordChange","password","handleInputConfirmPasswordChange","confirmPassword","validateForm","isValid","length","test","handleSubmit","preventDefault","formData","username","fetch","method","headers","body","JSON","stringify","then","response","ok","window","location","href","catch","error","console","children","className","onSubmit","type","name","placeholder","onChange"],"sources":["C:/Users/didi_/Desktop/proiectlicenta/client/src/comp/User/Signup.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { isEmail } from \"validator\";\r\n\r\nfunction Signup() {\r\n\r\n    const [inputUsername, setInputUsername] = useState('');\r\n    const [inputEmail, setInputEmail] = useState('');\r\n    const [inputPassword, setInputPassword] = useState('');\r\n    const [inputConfirmPassword, setInputConfirmPassword] = useState('');\r\n    const [usernameError, setUsernameError] = useState('');\r\n    const [emailError, setEmailError] = useState('');\r\n    const [passwordError, setPasswordError] = useState('');\r\n    const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n\r\n    const handleInputUsernameChange = (event) => {\r\n        const filteredUsername = sanitizeInputUsername(event.target.value);\r\n        setInputUsername(filteredUsername);\r\n    };\r\n\r\n    const sanitizeInputUsername = (input) => {\r\n        const filteredInputUsername = input.replace(/[^a-zA-Z0-9\\s]/g, '');\r\n        return filteredInputUsername;\r\n    };\r\n\r\n    const handleInputEmailChange = (event) => {\r\n        const email = event.target.value;\r\n        setInputEmail(email);\r\n    \r\n        if (isEmail(email)) {\r\n          setEmailError('');\r\n        } else {\r\n          setEmailError(\"Invalid email address.\");\r\n        }\r\n    };\r\n      \r\n      const handleInputPasswordChange = (event) => {\r\n        const password = event.target.value;\r\n        setInputPassword(password);\r\n      };\r\n\r\n      const handleInputConfirmPasswordChange = (event) => {\r\n        const confirmPassword = event.target.value;\r\n        setInputConfirmPassword(confirmPassword);\r\n      };\r\n\r\n      const validateForm = () => {\r\n        let isValid = true;\r\n\r\n        if (inputUsername.length < 6) {\r\n          setUsernameError(\"Username must be at least 6 characters long.\");\r\n          isValid = false;\r\n        } else {\r\n          setUsernameError(\"\");\r\n        }\r\n\r\n        if (!isEmail(inputEmail)) {\r\n          setEmailError(\"Invalid email address.\");\r\n          isValid = false;\r\n        } else {\r\n          setEmailError(\"\");\r\n        }\r\n\r\n        if (inputPassword.length < 6) {\r\n          setPasswordError(\"Password must be at least 6 characters long.\");\r\n          isValid = false;\r\n        } else if (!/\\d/.test(inputPassword)) {\r\n          setPasswordError(\"Password must contain at least one number.\");\r\n          isValid = false;\r\n        } else if (!/[A-Z]/.test(inputPassword)) {\r\n          setPasswordError(\"Password must contain at least one uppercase letter.\");\r\n          isValid = false;\r\n        } else {\r\n          setPasswordError(\"\");\r\n        }\r\n\r\n        if (inputPassword !== inputConfirmPassword) {\r\n          setConfirmPasswordError(\"Passwords do not match.\");\r\n          isValid = false;\r\n        } else {\r\n          setConfirmPasswordError(\"\");\r\n        }\r\n\r\n        return isValid;\r\n      }\r\n\r\n      const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n      \r\n        if (validateForm()) {\r\n          const formData = {\r\n            username: inputUsername,\r\n            email: inputEmail,\r\n            password: inputPassword,\r\n            confirmPassword: inputConfirmPassword\r\n          };\r\n      \r\n          fetch('/signup', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(formData)\r\n          })\r\n            .then(response => {\r\n              if (response.ok) {\r\n                window.location.href = '/login';\r\n              } else {\r\n              }\r\n            })\r\n            .catch(error => {\r\n              console.error(error);\r\n            });\r\n        }\r\n      };\r\n\r\n    return (\r\n      <>\r\n        <div className=\"login-singup\">\r\n          <form onSubmit={handleSubmit}>\r\n            <h1>Create Account</h1>\r\n            {usernameError && <span className=\"error\">{usernameError}</span>}\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Username\"\r\n              value={inputUsername}\r\n              onChange={handleInputUsernameChange}\r\n            />\r\n            {emailError && <span className=\"error\">{emailError}</span>}\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              value={inputEmail}\r\n              onChange={handleInputEmailChange}\r\n            />\r\n            {passwordError && <span className=\"error\">{passwordError}</span>}\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              value={inputPassword}\r\n              onChange={handleInputPasswordChange}\r\n            />\r\n            {confirmPasswordError && <span className=\"error\">{confirmPasswordError}</span>}\r\n            <input\r\n              type=\"password\"\r\n              name=\"confirmPassword\"\r\n              placeholder=\"Confirm Password\"\r\n              value={inputConfirmPassword}\r\n              onChange={handleInputConfirmPasswordChange}\r\n            />\r\n            <button type=\"submit\">Sign Up</button>\r\n            <p>\r\n              Already have an account? <a href=\"/login\">Login here.</a>\r\n            </p>\r\n          </form>\r\n        </div>\r\n        </>\r\n      );\r\n}\r\n\r\nexport default Signup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}